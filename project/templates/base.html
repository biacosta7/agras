<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% load static %}
    <link rel="icon" href="{% static 'assets/logo-green.png' %}" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet">
    {% block css %}
        <link rel="stylesheet" href="{% static 'globals.css' %}">
    {% endblock css %}

    <title>AGRAS | {% block title %}{% endblock %}</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    {% include 'common/messages.html' %}

    <div class="{% block page_classes %} bg-[#FAFAFA] h-screen{% endblock %}">
        {% block content %}{% endblock content %}
    {% if request.user.is_authenticated %}
    <!-- Fundo escurecido para o modal -->
    <div id="modalBackground" class="fixed inset-0 bg-black bg-opacity-50 hidden z-20" onclick="closeHelpModal()"></div>
    
    <!-- Modal -->
<div id="helpModal" class="fixed bottom-4 right-4 bg-white px-6 py-6 rounded-[16px] w-[90%] sm:w-[80%] md:w-[70%] lg:w-[60%] xl:w-[50%] max-w-[520px]  z-30 hidden">
    <div class="flex justify-end">
        <button onclick="closeHelpModal()" class="material-icons-outlined text-[#F76711]">close</button>
      <button onclick="maximizeHelpModal()" class="material-icons-outlined text-[#8ABF17] mr-2">fullscreen</button>

    </div>

    <h1 class="text-[22px] font-bold text-[#8ABF17]">IA Chat</h1>
    <p class="text-[16px] font-normal text-black">Como posso te ajudar hoje?</p>

    <div class="grid grid-cols-2 gap-4 mt-4">
        <button class="border rounded-[9px] px-4 py-2 rounded-lg flex items-center">
            <span class="material-icons-outlined text-[#F76711] mr-2">folder_open</span> Relatórios
        </button>
        <button class="border rounded-[9px] px-4 py-2 rounded-lg flex items-center">
            <span class="material-icons-outlined text-[#915F10] mr-2">forum</span> Saberes
        </button>
        <button class="border rounded-[9px] px-4 py-2 rounded-lg flex items-center">
            <span class="material-icons-outlined text-[#044702] mr-2">timer</span> Previsões
        </button>
        <button class="border rounded-[9px] px-4 py-2 rounded-lg flex items-center">
            <span class="material-icons-outlined text-[#8ABF17] mr-2">bug_report</span> Pragas
        </button>
    </div>

    <div class="mt-6 relative">
        <input type="text" placeholder="Me pergunte qualquer coisa..." class="block w-full border border-gray-300 rounded-lg shadow-sm focus:ring-[#8ABF17] focus:border-[#8ABF17] h-[55px] py-2 px-3" />
        <button class="absolute right-2 top-1/2 transform -translate-y-1/2 material-icons-outlined text-[#8ABF17]">send</button>
    </div>
</div>
    
    <!-- Help Button -->
    <button onclick="openHelpModal()" id="help-button" class="fixed bottom-4 right-4 bg-[#8ABF17] text-white p-2 rounded-full shadow-md z-10 focus:outline-none">
        <span class="material-icons">help</span> 
    </button>
    {% endif %}
</div>

    </div>
</body>
<style>
    {% block styles %}

    #help-button { /* Style the help button */
            width: 40px; /* Adjust size as needed */
            height: 40px;
            display: flex; /* Center the icon */
            align-items: center;
            justify-content: center;
        }
        
        body {
            font-family: 'Poppins', sans-serif !important;
        }

        input::placeholder {
        font-weight: 500;
        }

        input[type="checkbox"] {
        appearance: none; 
        width: 13px; 
        height: 13px;
        border: 1px solid #ccc; 
        border-radius: 3px; 
        position: relative;
        }

        input[type="checkbox"]:checked {
            background-color: #8ABF17;
        }

        input[type="checkbox"]:checked::after {
            content: "✔";
            position: absolute;
            left: 1px;
            top: -2px; 
            color: white; 
            font-size: 10px; 
        }

        /* Scrollbar for Webkit browsers (Chrome, Safari) */
        ::-webkit-scrollbar {
            width: 4px; /* Largura da scrollbar */
            height: 4px; /* Altura da scrollbar (para scroll horizontal) */
        }

        ::-webkit-scrollbar-thumb {
            background-color: #8ABF17; /* Cor da parte que arrasta */
            border-radius: 4px; /* Bordas arredondadas */
        }

        ::-webkit-scrollbar-track {
            background: transparent; /* Cor do fundo da scrollbar */
        }

        /* Scrollbar for Firefox */
        .scrollbar {
            scrollbar-width: thin; /* Define a largura como fina */
            scrollbar-color: #8ABF17 transparent; /* Cor do thumb e do track */
        }
        
        ::selection {
            background-color: #8ABF17;
            color: white;
        }

        @media (max-width: 640px) { /* sm breakpoint */
            .hidden-sm {
                display: none;
            }
        }

        @media (min-width: 1280px) and (max-width: 1546px) {
        .lgxl {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }
    }

    {% endblock styles %}
</style>

<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    togglePassword.addEventListener('click', () => {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
    
        togglePassword.src = type === 'text' 
            ? "{% static 'assets/eye-fill.svg' %}" 
            : "{% static 'assets/eye-slash-fill.svg' %}";
});

// Para o campo de confirmar senha
const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
const confirmPasswordInput = document.getElementById('confirm_password');

toggleConfirmPassword.addEventListener('click', () => {
    const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    confirmPasswordInput.setAttribute('type', type);
    
    toggleConfirmPassword.src = type === 'text' 
        ? "{% static 'assets/eye-fill.svg' %}" 
        : "{% static 'assets/eye-slash-fill.svg' %}";
});

function openHelpModal() {
    document.getElementById('modalBackground').classList.remove('hidden');
    document.getElementById('helpModal').classList.remove('hidden');
}

function closeHelpModal() {
    document.getElementById('modalBackground').classList.add('hidden');
    document.getElementById('helpModal').classList.add('hidden');
}
</script>
</html>
